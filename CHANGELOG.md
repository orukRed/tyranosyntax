# Change Log

All notable changes to the "tyranosyntax" extension will be documented in this file.

Check [Keep a Changelog](http://keepachangelog.com/) for recommendations on how to structure this file.

## [0.0.1]

シンタックスハイライト追加  
スニペット追加

## [0.0.2]

バグ修正

- [bg]タグを追加したときに、2つ修正される問題の修正

- 一部のタグが正しくハイライトされない問題の修正

- \#が先頭にある行をハイライトするように設定

## [0.0.3]

- javascriptのハイライトを追加（iscript～endscriptの間でのみ適用）

## [0.0.4]

バグ修正
コメントアウトのショートカットキーを入力時、";"ではなくて"//"が追加される問題

## [0.0.5]

バグ修正

- タグの属性値に=が含まれる場合に正しくハイライトされないのを修正

## [0.1.0]

- タグにマウスカーソルを重ねたときに簡易リファレンスを表示

- シンタックスの表示形式を変更

- ツールチップの実装
  - ティラノスクリプトv5提供のタグにマウスカーソルを乗せると簡易的なタグの説明が表示されます。

- アウトライン機能の実装
  - ラベル（*から始まる行）
  - ifタグ
  - elseifタグ
  - elseタグ
  - endif
  - ignore
  - endignore
  - jumpタグ
  - callタグ
  - buttonタグ
  - glinkタグ
  - linkタグ
  - sタグ
  - iscriptタグ
  - endscriptタグ
  - loadjsタグ

## [0.1.1]

- 特定のタグ・記号の簡易出力（ショートカットキー）の追加
  - [l][r] shift + enter
  - [p] ctrl + enter
  - \#  alt + enter

## [0.1.2]

- .ksファイル以外でもshift + enter等のショートカットキーでタグを入力できる不具合を修正

## [0.1.3]

- 特定のタグの書き方でツールチップが正しく表示できない不具合を修正

## [0.1.4]

- Macの場合に、ショートカットコマンドが正常に正しく機能しない不具合の修正
  - [l][r] shift + enter
  - [p] ctrl + enter（Macならcmd+enter）

## [0.1.5]

- 0.1.4で一部修正できていませんでしたので修正しました。

## [0.1.6] - 2021-10-07

- 最新のタグ（Ver510h）のシンタックスハイライトに対応しました。

## [0.2.0] - 2021-12-21

- 以下のショートカットキーで入力する文字列を任意のものへと変更できるようにしました。setting.jsonより変更できます。
  - [l][r] shift + enter
  - [p] ctrl + enter
  - \#  alt + enter

## [0.2.1] - 2022-2-28

- ラベルにハイフン（-）やアンダースコア（_）を使用した際に正しくハイライトされない問題を修正しました。

## [0.3.0] - 2022-3-14

- マーケットプレイスの検索で見つかりやすくしました。
- ハイライトを全体的に見直しました。
  - 各種ラベルのハイライトに使われる色を変更しました。
  - 変数が正しくハイライトされていなかったため、正常にハイライトするようにしました。
    - ティラノスクリプトでサポートしている変数名のルールに沿ってハイライトされます。(f.sf.tf.のいずれかから始まり半角英数と全角文字、アンダーバーを使用可能。ただし変数名の最初に数字はNG)
    - タグ内で変数を使用した際にもハイライトされます。
    - ただしiscriptタグ内での変数ハイライトはver0.3現在未対応です。
  - []内、もしくは行頭に@マークが有る場合のみハイライトするようにしました。
  - 数値のハイライトを削除しました。
  - true,false,nullのハイライトを削除しました。
- マウスホバーで表示されるチップツール、スニペットを最新のものに対応しました。

## [0.3.1] - 2022-3-14

- 同じ行に[]で囲んでタグがある時に一部の文字がハイライトされない不具合を修正しました。

## [0.4.0] - 2022-3-22

- アウトライン表示するタグを任意のものに変更できるようにしました。
  - 設定->TyranoScript syntax->setting.jsonより変更してください。デフォルトでアウトライン表示されるタグは以下です。
    - ラベル（*から始まる行）
    - ifタグ
    - elseifタグ
    - elseタグ
    - endif
    - ignore
    - endignore
    - jumpタグ
    - callタグ
    - buttonタグ
    - glinkタグ
    - linkタグ
    - iscriptタグ
    - endscriptタグ
    - loadjsタグ
    - htmlタグ
    - endhtmlタグ
- コメントアウトしている行をアウトライン表示しないようにしました。
  - ただし、/**/によるアウトラインはβ版のため正しく表示・非表示されない場合があります。不要の場合は設定を変更して機能を無効にしてください。
- 変数をアウトライン表示するようにしました。

## [0.4.1] - 2022-3-23

- 行頭にタブ、半角スペース、全角スペースがある場合@から始まるタグがハイライトされない問題を修正しました。
- ラベルで日本語がハイライトされない問題を修正しました。
- 変数に日本語を使用した時、伸ばし棒（ー）がハイライトされない問題を修正しました。
- 変数の先頭に半角カナを使用した場合、ハイライトされない問題を修正しました。
- スニペットからbgタグを生成した時にパラメータに説明文が混じっている問題を修正しました。

## [0.5.0] - 2022-3-28

- ハイライトの問題を修正しました。
  - パラメータの値に半角スペースがあると正しくハイライトされない問題を修正しました。
  - パラメータの値で配列添字を使用した時正しくハイライトされない問題を修正しました。
  - exp、condパラメータで正しくハイライトされない問題を修正しました。
  - エンティティで使う&記号もハイライトするようにしました。
- パラメータの値はダブルクォーテーションで囲わないとハイライトされないようにしました。
- パラメータの値にラベルを指定した時ハイライトされるようにしました。
- 上記内容の適用に伴い、ver0.3.1で対応していた、同じ行に[]で囲んでタグがある時に一部の文字がハイライトされない不具合が再び発生しています。

## [0.5.1] - 2022-3-28

- 一部の日本語（、と。）が非対応になっている問題を修正しました。
- 中括弧があるとハイライトされないされない問題を修正しました。
- 末尾がf.mp3のファイルが有ると正しくハイライトされない問題を修正しました。
  - ただし、ファイル名がhoge-f.mp3やf.mp3等の場合は以前と同様に正しくハイライトされません。

## [0.5.2] - 2022-3-29

- 全角記号未対応のものがあったため対応しました。

## [0.5.3] - 2022-3-31

- 一つの行にタグを複数個配置した時正しくハイライトされない問題を修正しました。

## [0.5.4] - 2022-4-4

- パラメータの値に配列を使った時、添字に二桁以上の整数や変数を使うと正しくハイライトされない問題を修正しました。

## [0.6.0] - 2022-4-12

- 予測変換（β版）を実装しました。
- 予測変換の実装に伴い以前のスニペット機能を削除しました。
- #やラベルを使用する際、行頭に空白があってもハイライトされるようにしました。

## [0.7.0] - 2022-4-18

- Web版vscodeにて一部機能を使用可能にしました。

## [0.7.1] - 2022-4-18

- ライブラリの依存関係を更新しました。

## [0.8.0] - 2022-4-21

- 設定から、タグの予測変換時に@から始まるタグか[ ]で囲むタグかを選択できるようにしました。
- 拡張機能用のvscodeウィンドウで本拡張機能を読み込むとエラーが発生する不具合を修正しました。

## [0.9.0] - 2022-5-29

- タグ予測候補を表示した際にパラメータが必須かどうか分かるようにしました。
- 診断機能を実装しました。問題ウィンドウに以下の項目が表示されます。
  - 存在しないシナリオファイル
  - 存在しないラベル
- 診断機能は今後も随時追加予定です。
- 診断機能実装に伴い、ツールチップの表示方法を変更しました。
  - 以前はタグの任意の箇所にマウスカーソルを置いてツールチップが表示されましたが、ver0.9.0よりタグ名にマウスカーソルをおいた場合のみツールチップが表示されます。
- ラベルでハイフン記号を使用したときハイライトされない不具合を再度修正しました。

## [0.10.0] - 2022-6-5

- [s] などといった、タグ名の後に半角スペースがない場合にチップツールが効かなくなっている不具合を修正しました。
- 特定の状況下で出力ウィンドウにTyranoScript syntaxという名前のログが出力されるようになりました。
  - 使用いただく分には特に変わり有りませんが、バグ報告いただいた際にログなどもいただければ非常に嬉しいです。
- index.htmlのあるフォルダを開いていなくても、vscodeでワークスペースとして開いたフォルダ内にindex.htmlがあれば診断機能が実施されるようになりました。

## [0.10.1] - 2022-6-11

- mp.から始まる変数（マクロ内変数）のハイライトがされていない不具合を修正しました。
- タグの属性にラベルを使ったとき、ハイフンがあると正しくハイライトされない不具合を修正しました。
- linuxなどの環境で拡張機能が動作しない不具合を修正しました。

## [0.11.0] - 2022-7-07

- 使用しているタグが、macroタグで定義されている/外部モジュール(data/others内の.jsファイル)に定義されているかの診断ができるようになりました。
  - macroタグ、もしくはjsファイルのどちらにも定義されていない場合問題ウィンドウにその旨が表示されます。
- 診断機能が原因でPCの動作が重くなるため、ON/OFFの切り替えオプションを追加しました。初期設定でOFFとなっています。
- 上記修正に伴い、コマンドパレットで「tyrao.diagnostic」を入力することで能動的に診断機能を実行できるようにしました。
  - 今後のアップデートでPCの動作速度が改善され次第、この機能は削除される可能性があります。
- ログにタイムスタンプが出力されるようになりました。

## [0.12.0]- 2022-08-xx

- 自動診断をONにしたときの挙動を一部修正しました。これによりパフォーマンスが向上します。
  - プロジェクトへの診断中の場合、診断を実行しないようにしています。
  - テキストファイルの読み込み回数を減らしました。

- ログの微修正を行いました。
  - ログの出力箇所を追加しました。
  - ミリ秒単位まで時間を計測するようにしました。
  - ログ出力タイミングに一部誤りがあったため修正しました。
